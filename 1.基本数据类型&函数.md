# 基本数据类型 & 函数

- 字符编码
  - utf-8是可变长编码，是其他编码的超集，unicode是对utf-8前补0拓展的编码。
  - 字符串对象的encode和decode方法，可以转码为指定编码，如ascii，utf-8。error参数设置可以在无法转码时不报错（‘ignore’）。
  - ord方法可以将单个字符转码为utf-8，chr反之。
  - bytes类型，在字符串前加b前缀。
  - 计算字符串长度用len。
  - 格式控制符有d，f，s，x，用法和C类似，如：```print('%2d-%02d' % (3, 1))```，另外也可以用format方法不过比较麻烦（大括号）。
  - 字符串有replace方法，但是字符串本身是不可变对象。
  - 字符串的strip方法用于去除头尾指定的字符串。左/右去除为lstrip和rstrip。**默认参数是空格。**
  - 字符串如果标记了r，如`r'C:\Windows\system.ini'`，则表示这个字符串中的反斜杠不需要转义。
- 数据类型
  - list
    - list是可变的，采用[]定义。
    - list()可以将序列（如range(5)）转换为list对象。
  - tuple
    - tuple是不可变的，采用()定义。
    - tuple在定义时就要确定所有的值。
    - **在tuple中包含的list是可变的。**
    - 单个元素的tuple为了避免歧义，需要在元素后加逗号，如`(item,)`。
  - dict
    - dict是可变的，采用{}定义。
    - 用in判断元素是否存在dict中。
    - dict速度快（与key个数无关），但是消耗内存，与list相反。
    - dict的key是不允许改变的（因为底层是hash），所以**key不能是list**。
  - set
    - set是没有value的dict，是可变的。
    - set会自动过滤重复的key。
    - 创建set需要提供list作为输入集合，比如```s = set([1, 2, 3])```，
    - set可以交和并。
    - set的原理和dict一样，所以set的key是不允许改变的，**key不能是list**。
- 函数
  - 基本
    - 函数指针：某个变量对函数的引用。
    - 强制类型转换包括str、int、float、bool。
    - 空函数：函数体定义为`pass`，作用为占位符。
    - 返回多个值可以用tuple，并允许省略括号。
    - 没有显式的return则默认return None。
  - 异常
    - 数据类型检查使用```isinstance()```实现，第一个参数是检查的对象，第二个可以是一个tuple，里面包含了可能的数据类型（int，float）
    - 报错用raise，不是throw。
  - 默认参数
    - **默认参数要在必选参数后面。**
    - **默认参数需要指向不可变对象如None，否则其值的改变会影响函数行为。**
  - 可变参数
    - 传入多个值可以用tuple/list，但是可变参数更方便。
    - 可变参数形参用```*var_name```表示。
    - 将tuple或者list转换成可变参数传入函数，也用```*var_name```表示。
  - 关键字参数
    - 传入多个键值对可以用dict，但是关键字参数更方便。
    - 关键字参数形参用```**kw```表示。
    - 传入时使用```a=1,b=2```的形式，也可以省略不写（此时kw为空）。
    - 将dict转换为关键字参数传入函数，也用```**kw```。
    - 函数内对传入的参数进行检查，也用in（和dict类似）。
  - 命名关键字参数
    - 限制传入的关键字的名字，而不是无限制的传入。
    - 特殊分隔符```*```，在它之后的参数就是命名关键字参数。
    - 如果定义中已经有了一个可变参数，那么在这个参数后的参数都被视为命名关键字参数。
    - 传入参数时必须指明参数名。
    - 可以是默认参数。
  - 参数混合
    - 5种参数必须按照以下顺序定义：必选参数、默认参数、可变参数、命名关键字参数和关键字参数。
    - 对于任意函数，都可以通过类似`func(*args, **kw)`的形式调用，无论其定义是怎么样的（也就是说，通过```tuple+dict```的形式调用）。
  - 递归
    - python的解释器不会自动对尾递归进行优化。